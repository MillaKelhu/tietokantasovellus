<!DOCTYPE html>

<title>Search</title>

<form action="/search" method="POST">
Title:
<p>
    <textarea name="title" rows="1" cols="50"></textarea>
</p>
Author:
<p>
    <textarea name="author" rows="1" cols="50"></textarea>
</p>
Year at least:
<p>
    <select name="earliest_year">
        {% for i in range(-2100,year_now+1) %}
        {% if 0 > i %}
        {% if i == -2100 %}
        <option value={{ i }} selected>{{ i*(-1) }} BCE</option>
        {% else %}
        <option value={{ i }}>{{ i*(-1) }} BCE</option>
        {% endif %}
        {% else%}
        <option value={{ i }}>{{ i }}</option>
        {% endif %}
        {% endfor %}
    </select>
</p>
Year at latest:
<p>
    <select name="latest_year">
        {% for i in range(-2100,year_now+1) %}
        {% if 0 > i %}
        <option value={{ i }}>{{ i*(-1) }} BCE</option>
        {% else%}
        {% if i == year_now %}
        <option value={{ i }} selected>{{ i }}</option>
        {% else %}
        <option value={{ i }}>{{ i }}</option>
        {% endif %}
        {% endif %}
        {% endfor %}
    </select>
</p>
Description:
<p>
    <textarea name="description" rows="1" cols="50"></textarea>
</p>
Genres:
<p>
    Separate text with commas, i.e. "Drama, Magical realism, Historical"
</p>
<p>
    <textarea name="genres" rows="1" cols="50"></textarea>
</p>
Rating at least:
<p>
    <select name="rating">
        <option value=0>-</option>
        {% for i in range(1,6) %}
        <option value={{ i }}>{{ i }}</option>
        {% endfor %}
    </select>
</p>
<input type="submit" value="Search">
</form>

<ul>
    {% for book in books %}
    <p><a href="/book/{{ book[0] }}" >{{ book[1] }}</a> by {{ book[2] }}</p>
    {% endfor %}
</ul>

<p><a href="/" >Back to front page</a></p>